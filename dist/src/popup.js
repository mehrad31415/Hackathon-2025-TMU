(()=>{let e={violence:["gun","weapon","knife","sword","blood","gore","violence","fight","battle","war","explosion","bomb","bullet","rifle","pistol","shotgun","ammunition","grenade","missile","tank","army","military","combat","attack","assault","murder","killing","death","corpse","wound","injury","bleeding","bloody"],adultAnimation:["hentai","anime","manga","cartoon","animation","adult","explicit","nsfw","pornographic","sexual","nude","naked","intimate","suggestive","provocative"],adultEquipment:["condom","lubricant","vibrator","dildo","sex toy","adult toy","contraceptive","birth control","pregnancy test","adult store","sex shop","adult equipment"],darkScary:["horror","scary","frightening","terrifying","ghost","monster","demon","zombie","vampire","werewolf","witch","skeleton","skull","death","cemetery","grave","haunted","spooky","creepy","nightmare","dark","shadow","evil","satanic","occult","black magic","curse","hex"],matureThemes:["alcohol","beer","wine","liquor","drunk","intoxicated","drug","cigarette","smoking","tobacco","marijuana","cannabis","weed","cocaine","heroin","addiction","overdose","gambling","casino","poker","slot machine"],offensiveLanguage:["curse","swear","profanity","vulgar","obscene","offensive","insult","slur","derogatory","hate speech","racist","sexist","homophobic"]};document.addEventListener("DOMContentLoaded",function(){let t={},o=document.getElementById("customWords"),a=document.getElementById("saveBtn"),n=document.getElementById("updateTogglesBtn"),s=document.getElementById("status");document.getElementById("activeCount");let i=document.getElementById("tagToggles");function c(){let e=o.value.trim().split(",").map(e=>e.trim()).filter(e=>e.length>0);if(i.innerHTML="",0===e.length){i.innerHTML='<div class="no-tags">No words entered. Add words and click "Update Toggle Options"</div>';return}chrome.storage.sync.get(["tagLikeToggles"],function(t){let o=t.tagLikeToggles||{};e.forEach(e=>{let t=document.createElement("div");t.className="tag-toggle-item";let a=`toggle-${e.toLowerCase().replace(/\s+/g,"-")}`,n=o[e]||!1;t.innerHTML=`
          <label class="toggle-switch">
            <input type="checkbox" id="${a}" ${n?"checked":""}>
            <span class="slider"></span>
          </label>
          <span class="tag-toggle-label">Blur "${e}"-like images?</span>
        `,i.appendChild(t),t.querySelector("input").addEventListener("change",function(){o[e]=this.checked,chrome.storage.sync.set({tagLikeToggles:o}),l()})}),l()})}function l(){let e=Object.values(t).filter(e=>e.checked).length,a=o.value.trim().split(",").filter(e=>e.trim()).length,n=i.querySelectorAll('input[type="checkbox"]:checked').length,s="";e>0&&(s+=`${e} category(ies) active`),a>0&&(s&&(s+=", "),s+=`${a} custom word(s)`),n>0&&(s&&(s+=", "),s+=`${n} "-like" variation(s)`),document.getElementById("activeCount").textContent=s||"No categories active"}function r(e,t){s.textContent=e,s.className=`status ${t}`,s.style.display="block",setTimeout(()=>{s.style.display="none"},3e3)}Object.keys(e).forEach(e=>{let o=document.getElementById(e);o&&(t[e]=o)}),chrome.storage.sync.get(["activeCategories","customWords","tagLikeToggles"],function(e){e.activeCategories&&Object.keys(e.activeCategories).forEach(o=>{t[o]&&(t[o].checked=e.activeCategories[o])}),e.customWords&&(o.value=e.customWords.join(", ")),e.customWords&&e.customWords.length>0&&c(),l()}),a.addEventListener("click",function(){let a={},n=o.value.trim();Object.keys(t).forEach(e=>{a[e]=t[e].checked});let s=n.split(",").map(e=>e.trim().toLowerCase()).filter(e=>e.length>0),c={};i.querySelectorAll('input[type="checkbox"]').forEach(e=>{let t=e.closest(".tag-toggle-item").querySelector(".tag-toggle-label"),o=t.textContent.match(/"([^"]+)"/)?.[1];o&&(c[o]=e.checked)});let g=[];Object.keys(a).forEach(t=>{a[t]&&g.push(...e[t])}),g.push(...s),Object.keys(c).forEach(e=>{c[e]&&g.push(`${e.toLowerCase()}-like`)});let d=[...new Set(g)];if(0===d.length)return void r("Please select at least one category or add custom words.","error");chrome.storage.sync.set({activeCategories:a,customWords:s,tagLikeToggles:c,blocklist:d},function(){r(`Settings saved! ${d.length} word(s) will be blurred. Reprocessing current page...`,"success"),l(),chrome.runtime.sendMessage({action:"RELOAD_SETTINGS"}),setTimeout(()=>{window.close()},1500)})}),n.addEventListener("click",c),Object.values(t).forEach(e=>{e.addEventListener("change",l)})})})();
//# sourceMappingURL=popup.js.map
